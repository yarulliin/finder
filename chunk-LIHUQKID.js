import{a as q,d as J}from"./chunk-FVAHY6JD.js";import"./chunk-K3XEAP4K.js";import"./chunk-T5XCB3YD.js";import{b as G,d as N}from"./chunk-OC2ZEEWA.js";import{$a as r,Ha as l,Ia as k,Ka as B,Ma as I,Ob as A,Pb as $,Ra as j,Sa as z,Ta as w,Va as x,Vb as R,W as m,Wa as P,Xa as C,Ya as h,Z as b,Za as y,_ as M,_a as a,ab as D,db as O,fb as H,hb as d,ib as L,jb as g,kb as u,lb as _,mb as s,nb as v,ob as T,pb as U,sb as c,tb as F,ub as E,vb as V}from"./chunk-K372LNTC.js";var Y=["*"],K=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=m({type:e,selectors:[["fa-card"],["a","card",""]],hostAttrs:[1,"card"],standalone:!0,features:[c],ngContentSelectors:Y,decls:1,vars:0,template:function(n,i){n&1&&(u(),_(0))},encapsulation:2,changeDetection:0});let t=e;return t})();function Z(t,e){if(t&1){let p=O();a(0,"button",2),d("click",function(){b(p);let n=g();return M(n.toggle())}),s(1," Show less "),r()}}var ee=["*"],Q=(()=>{let e=class e{constructor(){this.expanded=!1}toggle(){this.expanded=!this.expanded}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=m({type:e,selectors:[["fa-line-clamp"],["div","lineClamp",""],["span","lineClamp",""]],hostVars:2,hostBindings:function(n,i){n&2&&w("expanded",i.expanded)},standalone:!0,features:[c],ngContentSelectors:ee,decls:4,vars:3,consts:[["class","link-button"],[1,"link-button","expand",3,"click"],[1,"link-button",3,"click"]],template:function(n,i){n&1&&(u(),_(0),x(1,Z,2,0,"button",0),a(2,"button",1),d("click",function(){return i.toggle()}),s(3,` Read more
`),r()),n&2&&(l(),P(1,i.expanded?1:-1),l(),w("expand_hidden",i.expanded))},styles:[`[lineClamp]{line-height:1.25rem;max-height:1.25rem;position:relative;overflow:hidden;padding:0 100px 0 0;transition:max-height .5s cubic-bezier(0,1,0,1)}.expanded{overflow:auto;padding:0;max-height:100rem;transition:max-height .5s cubic-bezier(1,0,0,1)}.expanded::-webkit-scrollbar{width:4px;height:4px}.expanded::-webkit-scrollbar-track{background:rgba(0,0,0,.1);border-radius:10px}.expanded::-webkit-scrollbar-thumb{background:rgba(0,0,0,.2);border-radius:10px}.expanded::-webkit-scrollbar-thumb:hover{background:rgba(0,0,0,.4)}.expand{transition:opacity .3s ease-in-out;position:absolute;top:0;right:0}.expand_hidden{opacity:0;visibility:hidden}
`],encapsulation:2,changeDetection:0});let t=e;return t})();function te(t,e){if(t&1&&s(0),t&2){let p=g();T(" ",p.film.directedBy," ")}}function ne(t,e){if(t&1&&(a(0,"button",9),s(1),r()),t&2){let p=e.$implicit;l(),v(p)}}var W=(()=>{let e=class e{constructor(){this.emitUpdateFilm=new I}get image(){let[o]=this.film.movieImages.posters;return`url(${o.file_path})`}updateFilm(o){this.emitUpdateFilm.emit({filmName:this.film.name,method:o})}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=m({type:e,selectors:[["fa-film-card"]],inputs:{film:"film"},outputs:{emitUpdateFilm:"emitUpdateFilm"},standalone:!0,features:[c],decls:17,vars:5,consts:[[1,"film"],[1,"film__info"],[1,"authors"],[1,"genres"],["lineClamp",""],[1,"actions"],[1,"secondary-button","button-size-m",3,"click"],["src","./assets/icons/dislike.png","alt",""],["src","./assets/icons/like.png","alt",""],[1,"primary-button","button-size-xs"],["class","primary-button button-size-xs"]],template:function(n,i){n&1&&(a(0,"fa-card",0)(1,"fa-card",1)(2,"h3"),s(3),r(),a(4,"span",2),h(5,te,1,1,null,null,C),r(),a(7,"section",3),h(8,ne,2,1,"button",10,C),r(),a(10,"span",4),s(11),r(),a(12,"section",5)(13,"button",6),d("click",function(){return i.updateFilm("unlike")}),D(14,"img",7),r(),a(15,"button",6),d("click",function(){return i.updateFilm("like")}),D(16,"img",8),r()()()()),n&2&&(z("background-image",i.image),l(3),U("",i.film.name," (",i.film.year,")"),l(2),y(i.film.directedBy),l(3),y(i.film.genres),l(3),T(" ",i.film.description," "))},dependencies:[K,Q],styles:['[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center}[_nghost-%COMP%]   .film[_ngcontent-%COMP%]{height:100%;background-image:url("./media/image_placeholder-AGDUSBCA.jpeg");background-size:cover;background-position:center;aspect-ratio:9/16;transition:all .5s ease-in-out}[_nghost-%COMP%]   .film__info[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;width:100%;max-height:100%;padding:1rem 2rem;background:var(--fa-primary-background);display:flex;flex-direction:column;gap:.5rem}[_nghost-%COMP%]   .film__info[_ngcontent-%COMP%] > button[_ngcontent-%COMP%], [_nghost-%COMP%]   .film__info[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{padding:1rem;border-radius:var(--fa-secondary-radius)}[_nghost-%COMP%]   .film__info[_ngcontent-%COMP%]   .genres[_ngcontent-%COMP%]{display:flex;gap:.5rem}[_nghost-%COMP%]   .film__info[_ngcontent-%COMP%]   .genres[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{cursor:inherit}[_nghost-%COMP%]   .film__info[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;align-items:center}[_nghost-%COMP%]   .film__info[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:4rem}[_nghost-%COMP%]   .film__info[_ngcontent-%COMP%]   .authors[_ngcontent-%COMP%]{font-weight:300}[_nghost-%COMP%]   .film__info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:3rem}[_nghost-%COMP%]   .film__info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1rem}'],changeDetection:0});let t=e;return t})();var ie=["*"],X=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=m({type:e,selectors:[["fa-loader"]],standalone:!0,features:[c],ngContentSelectors:ie,decls:8,vars:0,consts:[[1,"dot"]],template:function(n,i){n&1&&(u(),a(0,"h3"),_(1),a(2,"span",0),s(3,"."),r(),a(4,"span",0),s(5,"."),r(),a(6,"span",0),s(7,"."),r()())},styles:["[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%;height:100%}[_nghost-%COMP%]   h3[_ngcontent-%COMP%]{text-align:center;font-size:4rem}[_nghost-%COMP%]   .dot[_ngcontent-%COMP%]{animation-fill-mode:both;animation:fadeInOut 1.8s infinite ease-in-out}[_nghost-%COMP%]   .dot[_ngcontent-%COMP%]:nth-of-type(1){animation-delay:-.32s}[_nghost-%COMP%]   .dot[_ngcontent-%COMP%]:nth-of-type(2){animation-delay:-.16s}"],changeDetection:0});let t=e;return t})();function oe(t,e){if(t&1){let p=O();a(0,"fa-film-card",0),d("emitUpdateFilm",function(n){b(p);let i=g(2);return M(i.updateFilm(n))}),r()}if(t&2){let p=e.$implicit;j("film",p)}}function ae(t,e){t&1&&(a(0,"fa-loader"),s(1),F(2,"transloco"),r()),t&2&&(l(),v(E(2,1,"FilmsComponent.message")))}function re(t,e){t&1&&(h(0,oe,1,1,"fa-film-card",1,C,!1,ae,3,3),F(3,"slice")),t&2&&y(V(3,1,e,e.length-2,e.length+1))}var ve=(()=>{let e=class e{resetState(){this.state=""}constructor(o,n){this.filmsService=o,this.destroyRef=n,this.films$=this.filmsService.films$}updateFilm({filmName:o,method:n}){this.changeSwipeState(n),this.filmsService.updateFilm(o,n).pipe(q(this.destroyRef)).subscribe()}changeSwipeState(o){this.state=o==="like"?"swipeRight":"swipeLeft"}};e.\u0275fac=function(n){return new(n||e)(k(J),k(B))},e.\u0275cmp=m({type:e,selectors:[["fa-films"]],hostVars:2,hostBindings:function(n,i){n&1&&L("@swipe.done",function(){return i.resetState()}),n&2&&H("@slide",i.true)("@swipe",i.state)},standalone:!0,features:[c],decls:2,vars:3,consts:[[3,"film","emitUpdateFilm"],[3,"film"]],template:function(n,i){if(n&1&&(x(0,re,4,5),F(1,"async")),n&2){let f;P(0,(f=E(1,1,i.films$))?0:-1,f)}},dependencies:[A,$,W,X,R],styles:["[_nghost-%COMP%]{display:grid;height:100%;padding:10rem 0}[_nghost-%COMP%] > *[_ngcontent-%COMP%]{grid-column:1;grid-row:1}"],data:{animation:[G,N]},changeDetection:0});let t=e;return t})();export{ve as FilmsComponent};
